---
import GalleryItem from "./GalleryItem.astro"
import { getGalleries } from '../library/microcms.ts'

const response = await getGalleries({ fields: ["id", "title", "imageSrc"] });
const galleries = response.contents.map(res => ({
  id: res.id,
  title: res.title,
  imageSrc: res.imageSrc.url,
  imagesSrc: res.imagesSrc,
}));

---

<div class="flex flex-col w-full gap-8 md:gap-10 relative">
  {galleries.map((item, index) => (
      <GalleryItem key={index} id={item.id} title={item.title} imageSrc={item.imageSrc} />
  ))}
</div>

