---
import GalleryItem from "./GalleryItem.astro";
import { getGalleries } from "../../library/microcms.ts";

const response = await getGalleries({ fields: ["id", "title", "imageSrc"] });
const galleries = response.contents.map((res) => ({
  id: res.id,
  title: res.title,
  imageSrc: res.imageSrc.url,
  imagesSrc: res.imagesSrc,
}));

---

<section class="relative isolate w-full overflow-hidden px-6 py-20 md:px-12 md:py-24">
  
  <div class="mx-auto flex max-w-7xl flex-col gap-4 text-white md:gap-6">
    <p class="inline-flex w-fit items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-2 text-[10px] uppercase tracking-[0.25em] text-white/70 backdrop-blur-md">
      Portfolio
      <span class="h-px w-6 bg-white/20" />
      Selected Works
    </p>
    <h2 class="max-w-4xl text-4xl font-light tracking-tighter text-white md:text-6xl lg:text-7xl">
      Editorial frames <span class="text-white/40">for the runway.</span>
    </h2>
  </div>

  <div class="mx-auto mt-16 grid max-w-7xl grid-cols-1 gap-8 md:mt-24 md:grid-cols-2 lg:gap-12">
    {galleries.map((item, index) => (
      <GalleryItem key={index} index={index} id={item.id} title={item.title} imageSrc={item.imageSrc} />
    ))}
  </div>
</section>
