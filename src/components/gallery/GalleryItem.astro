---
const { id, title, imageSrc, index } = Astro.props;

const formatIndex = (value: number) => `No. ${String(value + 1).padStart(2, "0")}`;
---

<a
  href={`/work/${id}`}
  class="group relative block aspect-[3/4] overflow-hidden bg-[#111] transition-all duration-700 hover:-translate-y-2 hover:shadow-[0_20px_80px_-20px_rgba(255,255,255,0.15)] cursor-none"
>
  <div class="absolute inset-x-6 top-6 z-10 flex items-center justify-between text-[10px] uppercase tracking-[0.2em] text-white mix-blend-difference">
    <span class="rounded-full border border-white/20 px-3 py-1 backdrop-blur-md">{formatIndex(index)}</span>
    <span class="flex items-center gap-2 opacity-60 transition duration-300 group-hover:opacity-100">
      View Project
      <span class="h-px w-6 bg-white transition-all duration-300 group-hover:w-10" />
    </span>
  </div>

  <div class="absolute inset-0 overflow-hidden">
    <img
      src={imageSrc}
      alt={title}
      class="h-full w-full object-cover opacity-80 transition duration-1000 ease-[cubic-bezier(0.22,1,0.36,1)] group-hover:scale-110 group-hover:opacity-100"
      loading="lazy"
    />
    <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-60 transition duration-500 group-hover:opacity-40" />
  </div>
</a>
